# 词法分析器：一步步实现

朴素的想法就是把源代码当做字符串去扫描，正如“扫描器”这个名称暗示的那样。
这里我打算用一些小小的编程练习来引入，一步一步地添加功能，直到实现一个简陋的词法解析器。

### 步骤
每个小练习都会让我们的词法解析器多一点功能，如何理解 **“每一步多一点功能”** 呢？还记得上一节我们谈到了token的类型吗？

在一门语言中，除去注释，无效的空格等内容（因为他们并不是必要的，也不需要变成token），我们能写的内容大致分为以下几类：

- 关键字 ——— 由一门语言自己规定，不同的语言关键字表不同，例如`c语言`的`include typedef if else while goto` 
- 运算符 加`+`减`-`乘`*`除`/`，取模`%`，与`&`或`|`非`^`关系运算，大于等于`>=`, 有的语言还有三元运算`？`符号，指针取值符`->`，解引用符`*`等
- 界限符 `{} () [] <>` 等, 用于在语句中划分出小的作用域，或者数组根据下标取值等
- 标识符 变量名`x y z abc p_name`，函数名`func add getEventLoop`等
- 字面量 写一个数字 `42, 0, 0xfff, 3.24` 或者一个字符串 `"man out!"`

**“每一步多一点功能”** 就是指，我们可以不断地升级我们得词法解析器代码，让它从 **不能识别** 上面所列类型的任何一种的状态，到能够识别一种、两种甚至全部的状态。

下面先展示出这些小练习。

1. **让词法解析器能够读取字符** 请写一段代码，每次能够读取字符串中的一个字符并打印出来

    可以直接遍历字符串，但请想一想会不会给后面带来不便？

2. **让词法解析器能够识别运算符、界限符** 请写一段代码，如果遇到 `=+,;(){}` 这些运算符和界限符，就当做token按顺序保存起来，其他的字符直接丢弃

    是不是可以直接使用`if`判断某个读出的字符是不是`=`,是不是`{`？...

3. **让词法解析器能够识别关键字和标识符** 完善2，使之能够识别关键字`let`,和标识符`xyz`, `add`, ...
    
    当发现是字母开头时，要往后读取直到遇到非字母，再判断这个连续的字符序列是标识符还是关键字。

4. **让词法解析器能够识别整数字面量** 完善3，使之能够识别整数字面量

    如果字符是数字字符，就继续读取直到遇到非字符，再把这个数字字符串转换成整数。
